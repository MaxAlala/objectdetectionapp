<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Object detection and grasping application: apps/detect_object.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Object detection and grasping application
   &#160;<span id="projectnumber">1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_9654b8d08f4bba4e84b362c5fd320bee.html">apps</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">detect_object.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>in this application : 1) you take an image and chose its ROI(region of interest) to specify area to improve speed and d2c0 algorithm detection quality) 2) algorithm works, detects the best matching object and displays it in a window. 3) you can accept a detected object then opencv object will create two RVIZ Markers(interactive and not)using orientation and location, pointcloud. also opencv object will calculate a tool orientation and set it to the global variable to send it to the robot. 4) if u deny an detected object, u can repeat an attempt 2 more times. Also u can finish the program and start all from beginning.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;cstdio&gt;</code><br />
<code>#include &lt;string&gt;</code><br />
<code>#include &lt;sstream&gt;</code><br />
<code>#include &lt;algorithm&gt;</code><br />
<code>#include &lt;map&gt;</code><br />
<code>#include &lt;boost/program_options.hpp&gt;</code><br />
<code>#include &quot;boost/filesystem.hpp&quot;</code><br />
<code>#include &lt;opencv2/rgbd.hpp&gt;</code><br />
<code>#include &quot;cv_ext/cv_ext.h&quot;</code><br />
<code>#include &quot;raster_object_model3D.h&quot;</code><br />
<code>#include &quot;raster_object_model2D.h&quot;</code><br />
<code>#include &quot;chamfer_matching.h&quot;</code><br />
<code>#include &lt;Eigen/Dense&gt;</code><br />
<code>#include &lt;Eigen/Geometry&gt;</code><br />
<code>#include &quot;apps_utils.h&quot;</code><br />
<code>#include &quot;InteractiveMarkerRos.h&quot;</code><br />
<code>#include &lt;ros/ros.h&gt;</code><br />
<code>#include &lt;opencv.h&gt;</code><br />
<code>#include &lt;cmath&gt;</code><br />
<code>#include &lt;visualization_msgs/Marker.h&gt;</code><br />
<code>#include &lt;iostream&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for detect_object.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="detect__object_8cpp__incl.png" border="0" usemap="#apps_2detect__object_8cpp" alt=""/></div>
<map name="apps_2detect__object_8cpp" id="apps_2detect__object_8cpp">
<area shape="rect" id="node11" href="raster__object__model3D_8h_source.html" title="raster_object_model3D.h" alt="" coords="3881,251,4048,278"/>
<area shape="rect" id="node17" href="raster__object__model2D_8h_source.html" title="raster_object_model2D.h" alt="" coords="4772,251,4939,278"/>
<area shape="rect" id="node18" href="chamfer__matching_8h_source.html" title="chamfer_matching.h" alt="" coords="2596,80,2736,107"/>
<area shape="rect" id="node44" href="apps__utils_8h_source.html" title="apps_utils.h" alt="" coords="139,333,231,360"/>
<area shape="rect" id="node45" href="InteractiveMarkerRos_8h_source.html" title="InteractiveMarkerRos.h" alt="" coords="704,80,863,107"/>
<area shape="rect" id="node47" href="opencv_8h_source.html" title="opencv.h" alt="" coords="543,80,618,107"/>
<area shape="rect" id="node12" href="raster__object__model_8h_source.html" title="raster_object_model.h" alt="" coords="3889,333,4040,360"/>
<area shape="rect" id="node42" href="template__matching_8h_source.html" title="template_matching.h" alt="" coords="3123,162,3265,189"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAppOptions.html">AppOptions</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="structAppOptions.html" title="AppOptions contains options - parameters to choose. ">AppOptions</a> contains options - parameters to choose.  <a href="structAppOptions.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a71b40f0113a2c2112c585b3b3092a595"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="detect__object_8cpp.html#a71b40f0113a2c2112c585b3b3092a595">parseCommandLine</a> (int argc, char **argv, <a class="el" href="structAppOptions.html">AppOptions</a> &amp;options)</td></tr>
<tr class="memdesc:a71b40f0113a2c2112c585b3b3092a595"><td class="mdescLeft">&#160;</td><td class="mdescRight">parses command line and adds the help command  <a href="#a71b40f0113a2c2112c585b3b3092a595">More...</a><br /></td></tr>
<tr class="separator:a71b40f0113a2c2112c585b3b3092a595"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="detect__object_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a> (int argc, char **argv)</td></tr>
<tr class="separator:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>in this application : 1) you take an image and chose its ROI(region of interest) to specify area to improve speed and d2c0 algorithm detection quality) 2) algorithm works, detects the best matching object and displays it in a window. 3) you can accept a detected object then opencv object will create two RVIZ Markers(interactive and not)using orientation and location, pointcloud. also opencv object will calculate a tool orientation and set it to the global variable to send it to the robot. 4) if u deny an detected object, u can repeat an attempt 2 more times. Also u can finish the program and start all from beginning. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a3c04138a5bfe5d72780bb7e82a18e627"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set an image region of interest (RoI).</p>
<p>Define a new image that is a rectangular portion of the original image. If the region of interest is enabled (see enableRegionOfInterest()) the PinholeCameraModel object will works with a new image plane represented by the provided RoI. For instance, the point projection operations will provided outputs with a 2D offset defind by top-left corner of the rectangle that defines the region of interest. The region of interest should have non zero size, and it should be inside the image. </p><dl class="section note"><dt>Note</dt><dd>The region of interest set with this function refers to the original, not scaled, image (see origImgWidth() and origImgHeight() to query the original image size): to query the current (possibly scaled) RoI, used regionOfInterest(). If the scale is changed, the region of interest changes accordling. </dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>The RoI is NOT enabled by default: you should explicitly call enableRegionOfInterest(true) to enable it</dd></dl>
<p>Set the distance threshold used in the distance transform Pixel with distance to the closes edgel greater than thresh , are set to thresh.</p>
<p>Enable/disable parallelism</p>
<p>enable If true, some algorithms are run in a parallel region, otherwise they run as a single thread</p>

</div>
</div>
<a class="anchor" id="a71b40f0113a2c2112c585b3b3092a595"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void parseCommandLine </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structAppOptions.html">AppOptions</a> &amp;&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>parses command line and adds the help command </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">options</td><td>takes input data </td></tr>
  </table>
  </dd>
</dl>
<p>first parameter always is the name of an application</p>
<p>OD == is great boost parser of input data; example == <a href="https://pastebin.com/yBmfCgvr">https://pastebin.com/yBmfCgvr</a> </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
